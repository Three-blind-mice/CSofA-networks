{
  "exp": {
    "name": "exp_8"
  },
  "glob": {
    "path_to_train": "datasets/data/train",
    "path_to_valid": "datasets/data/valid",
    "path_to_test": "datasets/data/test",
    "path_to_images": "datasets/data",
    "n_classes": 84,
    "image_size": [299, 299],
    "image_n_chanel": 3
  },
  "data_loader": {
    "name": "conv_data_generator.DataGenerator",
    "augmentation": {
      "rescale": 0.004,
      "zoom_range": 0.2,
      "horizontal_flip": true,
      "rotation_range": 45,
      "width_shift_range": 0.1,
      "height_shift_range": 0.1,
      "fill_mode": "bicubic"
    },
    "generator": {
      "batch_size": 128,
      "class_mode": "categorical",
      "shuffle": true,
      "random_state": 12,
      "interpolation": "bicubic"
    }
  },
  "model":{
    "name": "conv_model.ConvModel",
    "transfer_model": {
      "exist": true,
      "name": "efficient_net_b6",
      "weights": "imagenet"
    },
    "n_layers": 2,
    "dense": {
      "units": [1024, 512],
      "activation": "relu",
      "kernel_regularizer": {
        "exist": false,
        "name": "l2",
        "alpha": 0.00001
      },
      "kernel_initializer": {
        "exist": true,
        "name": "he_uniform"
      }
    },
    "dropout": {
      "rates": [0.3, 0.2]
    },
    "optimizer": {
      "name": "nadam",
      "params": {
        "learning_rate": 1e-2
      }
    },
    "loss_function": "categorical_crossentropy",
    "metrics": ["categorical_accuracy"]
  },
  "trainer":{
    "name": "conv_model_trainer.ConvModelTrainer",
    "mode": "with_fine_tuning",
    "learning_rate_factor": 10,
    "frozen_per_layers": [1, 0.5, 0],
    "num_epochs": [10, 20, 50],
    "batch_size": 128,
    "validation_split": 0,
    "verbose": true,
    "steps_per_epoch": null,
    "class_weight": "balanced"
  },
  "callbacks":{
    "cyclic_lr": {
      "exist": false,
      "base_lr": 1e-2,
      "max_lr": 1e-1,
      "step_size": 2000,
      "mode": "triangular",
      "gamma": 1
    },
    "checkpoint": {
      "exist": true,
      "monitor": "val_loss",
      "mode": "auto",
      "save_best_only": true,
      "save_weights_only": true,
      "verbose": true
    },
    "tensor_board": {
      "exist": true,
      "write_graph": true
    },
    "early_stopping": {
      "exist": true,
      "monitor":"val_loss",
      "patience": 5,
      "restore_best_weights": true
    },
    "reduce_lr_on_plateau": {
      "exist": true,
      "monitor": "val_loss",
      "factor": 0.1,
      "patience": 3,
      "min_lr": 1e-6
    }
  }
}